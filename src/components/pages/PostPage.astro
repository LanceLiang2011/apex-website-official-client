---
import BaseLayout from '../../layouts/BaseLayout.astro';
import type { Post, Locale } from '../../data/types';
import { getRelativeLocaleUrl } from 'astro:i18n';

interface Props {
  post: Post;
  locale: Locale;
}

const { post, locale } = Astro.props;
---

<BaseLayout title={`${post.title[locale]} - Apex Education`}>
  <!-- Hero / Header -->
  <div class="bg-gray-900 text-white py-16">
    <div class="container mx-auto px-4 text-center max-w-4xl">
      <div class="flex items-center justify-center gap-2 text-sm text-blue-300 mb-4">
        <span class="bg-blue-900/50 px-3 py-1 rounded-full border border-blue-800">{post.category[locale]}</span>
        <span>•</span>
        <span>{post.date}</span>
      </div>
      <h1 class="text-3xl md:text-5xl font-bold mb-6 leading-tight">{post.title[locale]}</h1>
    </div>
  </div>

  <div class="container mx-auto px-4 py-12">
    <div class="flex flex-col lg:flex-row gap-12">
      <!-- Main Content -->
      <article class="w-full lg:w-2/3">
        <div class="rounded-xl overflow-hidden shadow-lg mb-8">
          <img src={post.image} alt={post.title[locale]} class="w-full h-auto" />
        </div>
        
        <div class="prose prose-lg max-w-none text-gray-700">
          <p class="lead text-xl text-gray-500 mb-8 border-l-4 border-primary-blue pl-4 italic">
            {post.excerpt[locale]}
          </p>
          
          <!-- Placeholder Content -->
          <p>
            {locale === 'zh' 
              ? '（此处为文章正文内容占位符。实际开发中，这里将渲染 Markdown 内容或富文本内容。）' 
              : '(This is a placeholder for the article content. In actual development, Markdown or rich text content will be rendered here.)'}
          </p>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
          </p>
          <h3>{locale === 'zh' ? '小标题示例' : 'Subheading Example'}</h3>
          <p>
            Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
          </p>
          <ul>
            <li>Point 1</li>
            <li>Point 2</li>
            <li>Point 3</li>
          </ul>
        </div>
      </article>

      <!-- Sidebar (Simplified) -->
      <aside class="w-full lg:w-1/3">
        <div class="sticky top-24">
          <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-8">
            <h3 class="font-bold text-lg mb-4">{locale === 'zh' ? '分享文章' : 'Share this post'}</h3>
            <div class="flex gap-2">
              <button class="flex-1 bg-blue-50 text-primary-blue py-2 rounded hover:bg-primary-blue hover:text-white transition-colors">WeChat</button>
              <button class="flex-1 bg-blue-50 text-primary-blue py-2 rounded hover:bg-primary-blue hover:text-white transition-colors">Weibo</button>
            </div>
          </div>
          
          <div class="bg-blue-600 text-white p-8 rounded-xl shadow-lg text-center">
            <h3 class="text-xl font-bold mb-4">
              {locale === 'zh' ? '预约免费咨询' : 'Book Free Consultation'}
            </h3>
            <p class="mb-6 text-blue-100">
              {locale === 'zh' ? '专业的升学规划顾问为您解答疑惑。' : 'Professional admission consultants to answer your questions.'}
            </p>
            <button class="bg-white text-primary-blue font-bold py-3 px-6 rounded-lg w-full hover:bg-gray-100 transition-colors">
              {locale === 'zh' ? '立即预约' : 'Book Now'}
            </button>
          </div>
        </div>
      </aside>
    </div>
  </div>
</BaseLayout>
