---
import CoursePage from '../../../components/pages/CoursePage.astro';
import MiddleHighImprovement from '../../../components/ucan/MiddleHighImprovement.astro';
import { courses } from '../../../data/courses';
import { centers } from '../../../data/centers';

export function getStaticPaths() {
  return courses.map(course => {
    const center = centers.find(c => c.id === course.centerId);
    if (!center) throw new Error(`Center not found for course ${course.id}`);
    
    return {
      params: { center: center.slug, course: course.slug },
      props: { course, center }
    };
  });
}

const { course, center } = Astro.props;
---

{course.slug === 'middle-high-improvement' ? (
  <MiddleHighImprovement course={course} center={center} locale="zh" />
) : (
  <CoursePage course={course} center={center} locale="zh" />
)}
