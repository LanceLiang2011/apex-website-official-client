---
import CoursePage from '../../../../components/pages/CoursePage.astro';
import MiddleHighImprovement from '../../../../components/ucan/MiddleHighImprovement.astro';
import ApCourses from '../../../../components/ucan/ApCourses.astro';
import SsatSat from '../../../../components/ucan/SsatSat.astro';
import Competitions from '../../../../components/ucan/Competitions.astro';
import { courses } from '../../../../data/courses';
import { centers } from '../../../../data/centers';

export function getStaticPaths() {
  return courses.map(course => {
    const center = centers.find(c => c.id === course.centerId);
    if (!center) throw new Error(`Center not found for course ${course.id}`);
    
    return {
      params: { center: center.slug, course: course.slug },
      props: { course, center }
    };
  });
}

const { course, center } = Astro.props;
---

{course.slug === 'middle-high-improvement' ? (
  <MiddleHighImprovement course={course} center={center} locale="en" />
) : course.slug === 'ap-courses' ? (
  <ApCourses course={course} center={center} locale="en" />
) : course.slug === 'ssat-sat' ? (
  <SsatSat course={course} center={center} locale="en" />
) : course.slug === 'competitions' ? (
  <Competitions course={course} center={center} locale="en" />
) : (
  <CoursePage course={course} center={center} locale="en" />
)}
